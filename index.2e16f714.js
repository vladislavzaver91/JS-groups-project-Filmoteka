function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequire581e;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},t.parcelRequire581e=a),a("bTcpz");var s=a("185lj");if((o=a("3fz09")).refs.langValue.addEventListener("change",(function(e){const t=e.target.value;s.serverApi.setlang(t),localStorage.setItem("language",JSON.stringify(t)),location.reload()})),localStorage.getItem("language")){const e=JSON.parse(localStorage.getItem("language"));o.refs.langValue.value=e,s.serverApi.setlang(e)}s=a("185lj");if((o=a("3fz09")).refs.trend.addEventListener("change",(function(e){const t=e.target.value;s.serverApi.setTrend(t),localStorage.setItem("selected-trend",JSON.stringify(t)),location.reload()})),localStorage.getItem("selected-trend")){const e=JSON.parse(localStorage.getItem("selected-trend"));o.refs.trend.value=e,s.serverApi.setTrend(e)}var i=a("eWCmQ"),o=a("3fz09"),l=(s=a("185lj"),a("fb9GJ")),c=(o=a("3fz09"),s=a("185lj"),a("1fedI")),d=a("2nhTy"),u=a("04jNI"),p=(u=a("04jNI"),a("9zntY")),f=a("3gXpH");const g=new(e(l))(o.refs.tuiContainer,d.options);function v(e){JSON.parse(localStorage.getItem("language"))||localStorage.setItem("language",JSON.stringify(o.refs.langValue.value)),s.serverApi.setPage(1);const t=e.map((({original_title:e,title:t,poster_path:r,id:n,genre_ids:a,release_date:s})=>`\n        <li class="film__item" data-id="${n}">\n        <img src="${(0,c.posterÐ¡heck)(r)}" class="film__img" alt="${e}" />\n        <div>\n        <p class="film__title">${t}</p>\n        <p class="film__genre">${(0,p.makeGenres)(a)} | ${(0,f.makeDate)(s)}</p></div>\n      </li>`)).join("");return o.refs.gallery.innerHTML=t}async function m(){try{let e=[];e="top"===o.refs.trend.value?await s.serverApi.getTop():"popular"===o.refs.trend.value?await s.serverApi.getPopular():await s.serverApi.getPopularMovie(),s.serverApi.setTotalResults(e.total_results),v(e.results)}catch(e){console.log(e)}(0,u.spinnerStop)()}(0,u.spinnerPlay)(),g.on("beforeMove",(async e=>{(0,u.spinnerPlay)(),g.setTotalItems(s.serverApi.totalResults),"top"===o.refs.trend.value||"popular"===o.refs.trend.value?(g.setTotalItems(1e4),s.serverApi.setTotalResults(1e4)):g.setTotalItems(s.serverApi.totalResults);const t=e.page;s.serverApi.setPage(t),m()}));var y=a("it60l"),h=a("bTcpz"),b=a("9Co7P"),_=a("lFT8c"),T=a("c8VpK"),A=(u=a("04jNI"),a("6yrCC"));m(),o.refs.gallery.addEventListener("click",(async function(t){if("film__item"!==t.target.parentElement.className)return;(0,h.onOpenModal)(),(0,u.spinnerPlay)();const r=t.target.parentElement.dataset.id,n=await s.serverApi.getDetailsMovie(r),a=await(0,y.movieDescriptionMurkup)(n);o.refs.movieDescription.insertAdjacentHTML("beforeend",a),(0,u.spinnerStop)(),(0,_.makeWatchTextContent)(n),(0,_.makeQueueTextContent)(n);const l=document.querySelector("[data-add-watched]"),c=document.querySelector("[data-add-queue]"),d=document.querySelector("[data-modal-close]"),p=document.querySelector(".btn-ytb"),f=document.querySelector(".icon-youtube"),g=document.querySelector("[data-cast]");s.serverApi.getTrailer(r).then((({results:t})=>{0!==t.length?(f.classList.add("icon-youtube__enable"),f.classList.remove("icon-youtube__disabled")):(f.classList.remove("icon-youtube__enable"),f.classList.add("icon-youtube__disabled"),p.setAttribute("disabled",!0),e(i).Notify.failure("Oh! Unfortunately there is no trailer",{position:"center-top",fontFamily:"inherit",borderRadius:"25px",clickToClose:!0}))})),s.serverApi.getCasts(r).then((e=>{0===e.length&&g.setAttribute("disabled",!0)})),l.addEventListener("click",(()=>(0,b.onAddWatchClick)(n))),c.addEventListener("click",(()=>(0,b.onAddQueueClick)(n))),p.addEventListener("click",T.handleClick),g.addEventListener("click",(()=>(0,A.markupCast)(r))),d.addEventListener("click",h.closeModal)}));i=a("eWCmQ"),l=a("fb9GJ"),o=a("3fz09"),s=a("185lj"),d=a("2nhTy"),u=a("04jNI");let S=" ";async function C(){const t=await s.serverApi.getMovieOnDemand(S),r=t.results,n=t.total_results;if(d.options.totalItems=n,n<20&&0!==n?o.refs.tuiContainer.classList.add("visually-hidden"):o.refs.tuiContainer.classList.remove("visually-hidden"),0===r.length)return m(),e(i).Notify.failure("Search result not successful. Enter the correct movie name and",{position:"center-top",fontFamily:"inherit",borderRadius:"25px",clickToClose:!0}),void window.history.go();v(r)}o.refs.formRef.addEventListener("submit",(async function(t){t.preventDefault(),(0,u.spinnerPlay)();if(document.querySelector(".header__form-input").addEventListener("change",(()=>{s.serverApi.setPage(1),s.serverApi.setRequestCount()})),S=t.currentTarget.elements.serch_film.value.trim().toLowerCase(),!S)return e(i).Notify.failure("Enter the name of the movie",{position:"center-top",fontFamily:"inherit",borderRadius:"25px",clickToClose:!0}),void(0,u.spinnerStop)();await C(),(0,u.spinnerStop)();new(e(l))(o.refs.tuiContainer,d.options).on("beforeMove",(e=>{const t=e.page;s.serverApi.setPage(t),s.serverApi.incrementRequestCount(),C()})),t.target.reset()})),a("2nhTy"),a("7bYU0"),a("eobyt"),a("c8VpK"),a("3TU0j"),a("3hXKf"),a("04jNI"),a("2ix2C");
//# sourceMappingURL=index.2e16f714.js.map
