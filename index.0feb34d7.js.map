{"mappings":"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","sources":["src/index.js","src/js/utilitiesJS/selectLang.js","src/js/utilitiesJS/selectTrend.js","src/js/gallery.js","src/js/utilitiesJS/murkupGalleryOnPageLoading.js","src/js/onSearchForm.js"],"sourcesContent":["import './js/modal';\nimport './js/utilitiesJS/selectLang';\nimport './js/utilitiesJS/selectTrend';\nimport './js/gallery';\nimport './js/onSearchForm';\nimport './js/pagination';\nimport './js/modal-team';\nimport './js/theme-dark';\nimport './js/treiler';\nimport './js/scrollTop';\nimport './js/modal-login';\nimport './js/spinner';\nimport './js/firebase';\n","import { serverApi } from './serverApi';\nimport { refs } from './refs';\n\nrefs.langValue.addEventListener('change', onSelectChange);\n\nif (localStorage.getItem('language')) {\n  const parsedData = JSON.parse(localStorage.getItem('language'));\n  refs.langValue.value = parsedData;\n  serverApi.setlang(parsedData);\n}\n\nfunction onSelectChange(evt) {\n  const language = evt.target.value;\n\n  serverApi.setlang(language);\n\n  localStorage.setItem('language', JSON.stringify(language));\n\n  location.reload();\n}\n","import { serverApi } from './serverApi';\nimport { refs } from './refs';\n\nrefs.trend.addEventListener('change', onSelectChange);\n\nif (localStorage.getItem('selected-trend')) {\n  const parsedData = JSON.parse(localStorage.getItem('selected-trend'));\n  refs.trend.value = parsedData;\n  serverApi.setTrend(parsedData);\n}\n\nfunction onSelectChange(evt) {\n  const trend = evt.target.value;\n\n  serverApi.setTrend(trend);\n\n  localStorage.setItem('selected-trend', JSON.stringify(trend));\n\n  location.reload();\n}\n","import 'simplelightbox/dist/simple-lightbox.min.css';\nimport Notiflix from 'notiflix';\nimport { refs } from './utilitiesJS/refs';\nimport { serverApi } from './utilitiesJS/serverApi';\nimport { murkupGallery } from './utilitiesJS/murkupGalleryOnPageLoading';\nimport { movieDescriptionMurkup } from './descriptionMurkup';\nimport { closeModal, onOpenModal } from './modal';\nimport { onAddQueueClick, onAddWatchClick } from './addFavorites';\nimport {\n  makeQueueTextContent,\n  makeWatchTextContent,\n} from './utilitiesJS/modalBtnTextContent';\nimport { handleClick } from './treiler';\nimport { spinnerPlay, spinnerStop } from './spinner';\nimport { markupCast } from './utilitiesJS/markupCast';\n\nmurkupGallery();\n\nrefs.gallery.addEventListener(`click`, onClickMovie);\n\nasync function onClickMovie(e) {\n  if (e.target.parentElement.className !== 'film__item') {\n    return;\n  }\n\n  onOpenModal();\n\n  spinnerPlay();\n\n  const id = e.target.parentElement.dataset.id;\n\n  const detailsMovie = await serverApi.getDetailsMovie(id);\n\n  const movieMurkup = await movieDescriptionMurkup(detailsMovie);\n\n  refs.movieDescription.insertAdjacentHTML('beforeend', movieMurkup);\n\n  spinnerStop();\n\n  makeWatchTextContent(detailsMovie);\n  makeQueueTextContent(detailsMovie);\n\n  const watchBtn = document.querySelector('[data-add-watched]');\n  const queueBtn = document.querySelector('[data-add-queue]');\n  const closeModalBtn = document.querySelector('[data-modal-close]');\n  const trailerBtn = document.querySelector('.btn-ytb');\n  const iconTrailerBtn = document.querySelector('.icon-youtube');\n  const castBtn = document.querySelector('[data-cast]');\n\n  serverApi.getTrailer(id).then(({ results }) => {\n    if (results.length !== 0) {\n      iconTrailerBtn.classList.add('icon-youtube__enable');\n      iconTrailerBtn.classList.remove('icon-youtube__disabled');\n    } else {\n      iconTrailerBtn.classList.remove('icon-youtube__enable');\n      iconTrailerBtn.classList.add('icon-youtube__disabled');\n      trailerBtn.setAttribute('disabled', true);\n      Notiflix.Notify.failure('Oh! Unfortunately there is no trailer', {\n        position: 'center-top',\n        fontFamily: 'inherit',\n        borderRadius: '25px',\n        clickToClose: true,\n      });\n    }\n  });\n\n  serverApi.getCasts(id).then(data => {\n    if (data.length === 0) {\n      castBtn.setAttribute('disabled', true);\n    }\n  });\n\n  watchBtn.addEventListener('click', () => onAddWatchClick(detailsMovie));\n  queueBtn.addEventListener('click', () => onAddQueueClick(detailsMovie));\n  trailerBtn.addEventListener('click', handleClick);\n  castBtn.addEventListener('click', () => markupCast(id));\n\n  closeModalBtn.addEventListener('click', closeModal);\n}\n","import Pagination from 'tui-pagination';\n\nimport { refs } from './refs';\nimport { serverApi } from './serverApi';\nimport { posterСheck } from './posterCheck';\nimport { options } from '../pagination';\nimport { spinnerPlay, spinnerStop } from '../spinner';\nimport { spinnerPlay, spinnerStop } from '../spinner';\nimport { makeGenres } from './makeGenres';\nimport { makeDate } from './makeReleaseDate';\n\nconst pagination = new Pagination(refs.tuiContainer, options);\n\nspinnerPlay(); // ! не пересовувати\n\npagination.on('beforeMove', async event => {\n  spinnerPlay();\n  pagination.setTotalItems(serverApi.totalResults);\n\n  if (refs.trend.value === 'top' || refs.trend.value === 'popular') {\n    pagination.setTotalItems(10000);\n    serverApi.setTotalResults(10000);\n  } else {\n    pagination.setTotalItems(serverApi.totalResults);\n  }\n\n  const currentPage = event.page;\n  serverApi.setPage(currentPage);\n  murkupGallery();\n});\n\nexport function murkupGalleryOnPageLoading(movies) {\n  if (!JSON.parse(localStorage.getItem('language'))) {\n    localStorage.setItem('language', JSON.stringify(refs.langValue.value));\n  }\n\n  serverApi.setPage(1);\n\n  const moviesMurkup = movies\n\n    .map(\n      ({ original_title, title, poster_path, id, genre_ids, release_date }) => {\n        const src = posterСheck(poster_path);\n\n        const genres = makeGenres(genre_ids);\n\n        return `\n        <li class=\"film__item\" data-id=\"${id}\">\n        <img src=\"${src}\" class=\"film__img\" alt=\"${original_title}\" />\n        <div>\n        <p class=\"film__title\">${title}</p>\n        <p class=\"film__genre\">${genres} | ${makeDate(release_date)}</p></div>\n      </li>`;\n      }\n    )\n    .join(``);\n\n  return (refs.gallery.innerHTML = moviesMurkup);\n}\n\nexport async function murkupGallery() {\n  try {\n    let movies = [];\n\n    if (refs.trend.value === 'top') {\n      movies = await serverApi.getTop();\n    } else if (refs.trend.value === 'popular') {\n      movies = await serverApi.getPopular();\n    } else {\n      movies = await serverApi.getPopularMovie();\n    }\n\n    serverApi.setTotalResults(movies.total_results);\n    murkupGalleryOnPageLoading(movies.results);\n  } catch (error) {\n    console.log(error);\n  }\n\n  spinnerStop();\n}\n","import Notiflix from 'notiflix';\nimport Pagination from 'tui-pagination';\n\nimport { refs } from './utilitiesJS/refs';\nimport { serverApi } from './utilitiesJS/serverApi';\nimport { options } from './pagination';\nimport {\n  murkupGalleryOnPageLoading,\n  murkupGallery,\n} from './utilitiesJS/murkupGalleryOnPageLoading';\nimport { spinnerPlay, spinnerStop } from './spinner';\n\nlet searchQuery = ' ';\nrefs.formRef.addEventListener('submit', onSubmitClick);\n\nasync function onSubmitClick(event) {\n  event.preventDefault();\n\n  spinnerPlay();\n\n  const inputRef = document.querySelector('.header__form-input');\n  inputRef.addEventListener('change', () => {\n    serverApi.setPage(1);\n    serverApi.setRequestCount();\n  });\n\n  searchQuery = event.currentTarget.elements.serch_film.value\n    .trim()\n    .toLowerCase();\n\n  if (!searchQuery) {\n    Notiflix.Notify.failure('Enter the name of the movie', {\n      position: 'center-top',\n      fontFamily: 'inherit',\n      borderRadius: '25px',\n      clickToClose: true,\n    });\n    spinnerStop();\n    return;\n  }\n\n  await murkupSearchMovie();\n\n  spinnerStop();\n\n  const pagination = new Pagination(refs.tuiContainer, options);\n\n  pagination.on('beforeMove', event => {\n    const currentPage = event.page;\n    serverApi.setPage(currentPage);\n    serverApi.incrementRequestCount();\n    murkupSearchMovie();\n  });\n\n  event.target.reset();\n}\n\nexport async function murkupSearchMovie() {\n  const data = await serverApi.getMovieOnDemand(searchQuery);\n  const movies = data.results;\n  const total_results = data.total_results;\n  options.totalItems = total_results;\n\n  if (total_results < 20 && total_results !== 0) {\n    refs.tuiContainer.classList.add('visually-hidden');\n  } else {\n    refs.tuiContainer.classList.remove('visually-hidden');\n  }\n\n  if (movies.length === 0) {\n    murkupGallery();\n    Notiflix.Notify.failure(\n      'Search result not successful. Enter the correct movie name and',\n      {\n        position: 'center-top',\n        fontFamily: 'inherit',\n        borderRadius: '25px',\n        clickToClose: true,\n      }\n    );\n    window.history.go();\n    return;\n  }\n\n  murkupGalleryOnPageLoading(movies);\n}\n"],"names":["parcelRequire","$jaaYu","refs","langValue","addEventListener","evt","language","target","value","serverApi","setlang","localStorage","setItem","JSON","stringify","location","reload","getItem","$e9bed70a02c7e5b3$var$parsedData","parse","$hiFhO","trend","setTrend","$7b1a18f643596ea4$var$parsedData","$bpxeT","$0ced5e31662a45f8$var$pagination","$parcel$interopDefault","$1VFfL","tuiContainer","$jcFG7","options","$0ced5e31662a45f8$export$ce0b9808aa57ae7d","movies","setPage","moviesMurkup","map","param","original_title","title","poster_path","id","genre_ids","release_date","src","$9PJ7S","genres","$8UxLt","makeGenres","concat","$9DSPe","makeDate","join","gallery","innerHTML","$0ced5e31662a45f8$export$6bb355015a1580b","$0ced5e31662a45f8$var$_murkupGallery","apply","this","arguments","$2TvXO","mark","_callee","getTop","_ctx","sent","getPopular","getPopularMovie","setTotalResults","total_results","results","console","log","t0","$j1lrD","spinnerStop","spinnerPlay","on","event","currentPage","setTotalItems","totalResults","page","$6756f0db6f988caf$var$_onClickMovie","e","detailsMovie","movieMurkup","watchBtn","queueBtn","closeModalBtn","trailerBtn","iconTrailerBtn","castBtn","parentElement","className","$5xtVg","onOpenModal","dataset","getDetailsMovie","$kiFmR","movieDescriptionMurkup","movieDescription","insertAdjacentHTML","$5HOzi","makeWatchTextContent","makeQueueTextContent","document","querySelector","getTrailer","then","length","classList","add","remove","setAttribute","$iU1Pc","Notify","failure","position","fontFamily","borderRadius","clickToClose","getCasts","data","$4cXS4","onAddWatchClick","onAddQueueClick","$dkUq4","handleClick","$3TKAW","markupCast","closeModal","$98475668925f8ab5$var$searchQuery","$98475668925f8ab5$var$_onSubmitClick","event1","preventDefault","setRequestCount","currentTarget","elements","serch_film","trim","toLowerCase","$98475668925f8ab5$export$80a6146058001a40","incrementRequestCount","reset","$98475668925f8ab5$var$_murkupSearchMovie","getMovieOnDemand","totalItems","window","history","go","formRef"],"version":3,"file":"index.0feb34d7.js.map"}